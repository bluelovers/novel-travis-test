"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("upath2");
const fs = require("fs-extra");
const config_1 = require("@node-novel/task/lib/config");
const project_config_1 = require("../project.config");
const FastGlob = require("fast-glob");
/**
 * Created by user on 2018/7/22/022.
 */
exports.PROJECT_ROOT = project_config_1.default.project_root;
exports.MyConfig = config_1.loadMainConfig(exports.PROJECT_ROOT);
exports.CacheConfig = config_1.loadCacheConfig(exports.PROJECT_ROOT);
exports.GITEE_TOKEN = process.env.GITEE_TOKEN || '';
exports.DIST_NOVEL = project_config_1.default.novel_root;
console.time('bugfix');
let ls = FastGlob.sync([
    'docs/*.json',
], {
    cwd: path.join(project_config_1.default.cache_root, 'files'),
    absolute: true,
    onlyFiles: true,
});
if (ls.length) {
    ls.forEach(function (file) {
        console.log('[delete]', file);
        fs.removeSync(file);
    });
}
console.timeEnd('bugfix');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX2J1Z2ZpeC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIl9idWdmaXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBZ0M7QUFJaEMsK0JBQStCO0FBRy9CLHdEQUEwRjtBQUUxRixzREFBOEM7QUFFOUMsc0NBQXNDO0FBRXRDOztHQUVHO0FBRVUsUUFBQSxZQUFZLEdBQUcsd0JBQWEsQ0FBQyxZQUFZLENBQUM7QUFFNUMsUUFBQSxRQUFRLEdBQUcsdUJBQWMsQ0FBQyxvQkFBWSxDQUFDLENBQUM7QUFDeEMsUUFBQSxXQUFXLEdBQUcsd0JBQWUsQ0FBQyxvQkFBWSxDQUFDLENBQUM7QUFFNUMsUUFBQSxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDO0FBQzFDLFFBQUEsVUFBVSxHQUFHLHdCQUFhLENBQUMsVUFBVSxDQUFDO0FBRW5ELE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFFdkIsSUFBSSxFQUFFLEdBQWEsUUFBUSxDQUFDLElBQUksQ0FBQztJQUNoQyxhQUFhO0NBQ2IsRUFBRTtJQUNGLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHdCQUFhLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQztJQUNqRCxRQUFRLEVBQUUsSUFBSTtJQUNkLFNBQVMsRUFBRSxJQUFJO0NBQ2YsQ0FBQyxDQUFDO0FBRUgsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUNiO0lBQ0MsRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUk7UUFFeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNwQixDQUFDLENBQUMsQ0FBQTtDQUNGO0FBRUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoID0gcmVxdWlyZSgndXBhdGgyJyk7XG5pbXBvcnQgKiBhcyBjcm9zc1NwYXduIGZyb20gJ2Nyb3NzLXNwYXduJztcbmltcG9ydCBnaXRSb290IGZyb20gJ2dpdC1yb290Mic7XG5pbXBvcnQgeyBjb25maWcgYXMgZG90ZW52Q29uZmlnIH0gZnJvbSAnZG90ZW52JztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzLWV4dHJhJztcbmltcG9ydCB7IGNyb3NzU3Bhd25Bc3luYywgY3Jvc3NTcGF3blN5bmMgfSBmcm9tICcuLic7XG5pbXBvcnQgeyBjcm9zc1NwYXduT3V0cHV0LCBpc0dpdFJvb3QgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBsb2FkQ2FjaGVDb25maWcsIGxvYWRNYWluQ29uZmlnLCBsb2FkQ29uZmlnIH0gZnJvbSAnQG5vZGUtbm92ZWwvdGFzay9saWIvY29uZmlnJztcbmltcG9ydCB7IElDb25maWcgfSBmcm9tICdAbm9kZS1ub3ZlbC90YXNrJztcbmltcG9ydCBQcm9qZWN0Q29uZmlnIGZyb20gJy4uL3Byb2plY3QuY29uZmlnJztcbmltcG9ydCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmltcG9ydCAqIGFzIEZhc3RHbG9iIGZyb20gJ2Zhc3QtZ2xvYic7XG5cbi8qKlxuICogQ3JlYXRlZCBieSB1c2VyIG9uIDIwMTgvNy8yMi8wMjIuXG4gKi9cblxuZXhwb3J0IGNvbnN0IFBST0pFQ1RfUk9PVCA9IFByb2plY3RDb25maWcucHJvamVjdF9yb290O1xuXG5leHBvcnQgbGV0IE15Q29uZmlnID0gbG9hZE1haW5Db25maWcoUFJPSkVDVF9ST09UKTtcbmV4cG9ydCBsZXQgQ2FjaGVDb25maWcgPSBsb2FkQ2FjaGVDb25maWcoUFJPSkVDVF9ST09UKTtcblxuZXhwb3J0IGxldCBHSVRFRV9UT0tFTiA9IHByb2Nlc3MuZW52LkdJVEVFX1RPS0VOIHx8ICcnO1xuZXhwb3J0IGNvbnN0IERJU1RfTk9WRUwgPSBQcm9qZWN0Q29uZmlnLm5vdmVsX3Jvb3Q7XG5cbmNvbnNvbGUudGltZSgnYnVnZml4Jyk7XG5cbmxldCBsczogc3RyaW5nW10gPSBGYXN0R2xvYi5zeW5jKFtcblx0J2RvY3MvKi5qc29uJyxcbl0sIHtcblx0Y3dkOiBwYXRoLmpvaW4oUHJvamVjdENvbmZpZy5jYWNoZV9yb290LCAnZmlsZXMnKSxcblx0YWJzb2x1dGU6IHRydWUsXG5cdG9ubHlGaWxlczogdHJ1ZSxcbn0pO1xuXG5pZiAobHMubGVuZ3RoKVxue1xuXHRscy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKVxuXHR7XG5cdFx0Y29uc29sZS5sb2coJ1tkZWxldGVdJywgZmlsZSk7XG5cdFx0ZnMucmVtb3ZlU3luYyhmaWxlKVxuXHR9KVxufVxuXG5jb25zb2xlLnRpbWVFbmQoJ2J1Z2ZpeCcpO1xuIl19